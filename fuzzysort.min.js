// https://github.com/roundaround/fuzzysort v2.0.5
((r,e)=>{"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():r.fuzzysort=e()})(this,r=>{"use strict";var i,o,e,a,f=r=>{var e=v(r="string"!=typeof r?"":r);return{target:r,t:e.i,o:e.v,u:N,l:e.g,score:N,_:[0],obj:N}},n=r=>{r=(r="string"!=typeof r?"":r).trim();var e=v(r),a=[];if(e.p)for(var f,n=r.split(/\s+/),n=[...new Set(n)],t=0;t<n.length;t++)""!==n[t]&&(f=v(n[t]),a.push({v:f.v,i:n[t].toLowerCase(),p:!1}));return{v:e.v,g:e.g,p:e.p,i:e.i,k:a}},q=r=>{var e;return 999<r.length?f(r):(void 0===(e=t.get(r))&&(e=f(r),t.set(r,e)),e)},z=r=>{var e;return 999<r.length?n(r):(void 0===(e=s.get(r))&&(e=n(r),s.set(r,e)),e)},D=(r,e,a=!1)=>{if(!1===a&&r.p)return C(r,e);for(var a=r.i,f=r.v,n=f[0],t=e.o,i=f.length,o=t.length,v=0,s=0,u=0;;){if(n===t[s]){if(S[u++]=s,++v===i)break;n=f[v]}if(o<=++s)return N}var v=0,l=!1,g=0,d=e.u,c=(d===N&&(d=e.u=L(e.target)),s=0===S[0]?0:d[S[0]-1],0);if(s!==o)for(;;)if(o<=s){if(v<=0)break;if(200<++c)break;--v;s=d[h[--g]]}else if(f[v]===t[s]){if(h[g++]=s,++v===i){l=!0;break}++s}else s=d[s];var w=e.t.indexOf(a,S[0]),r=~w;if(r&&!l)for(var b=0;b<u;++b)S[b]=w+b;a=!1;r&&(a=e.u[w-1]===w);p=l?(_=h,g):(_=S,u);for(var _,p,x=0,y=0,b=1;b<i;++b)_[b]-_[b-1]!=1&&(x-=_[b],++y);if(x-=(12+(_[i-1]-_[0]-(i-1)))*y,0!==_[0]&&(x-=_[0]*_[0]*.2),l){for(var k=1,b=d[0];b<o;b=d[b])++k;24<k&&(x*=10*(k-24))}else x*=1e3;r&&(x/=1+i*i*1),a&&(x/=1+i*i*1),e.score=x-=o-i;for(b=0;b<p;++b)e._[b]=_[b];return e._.C=p,e},C=(r,e)=>{for(var a=new Set,f=0,n=N,t=0,i=r.k,o=0;o<i.length;++o){var v=i[o];if((n=D(v,e))===N)return N;f+=n.score,n._[0]<t&&(f-=t-n._[0]);for(var t=n._[0],s=0;s<n._.C;++s)a.add(n._[s])}r=D(r,e,!0);if(r!==N&&r.score>f)return r;n.score=f;var u,o=0;for(u of a)n._[o++]=u;return n._.C=o,n},v=r=>{for(var e=r.length,a=r.toLowerCase(),f=[],n=0,t=!1,i=0;i<e;++i){var o=f[i]=a.charCodeAt(i);32===o?t=!0:n|=1<<(97<=o&&o<=122?o-97:48<=o&&o<=57?26:o<=127?30:31)}return{v:f,g:n,p:t,i:a}},L=r=>{for(var e=r.length,a=(r=>{for(var e=r.length,a=[],f=0,n=!1,t=!1,i=0;i<e;++i){var o=r.charCodeAt(i),v=65<=o&&o<=90,o=v||97<=o&&o<=122||48<=o&&o<=57,s=v&&!n||!t||!o,n=v,t=o;s&&(a[f++]=i)}return a})(r),f=[],n=a[0],t=0,i=0;i<e;++i)i<n?f[i]=n:(n=a[++t],f[i]=void 0===n?e:n);return f},t=new Map,s=new Map,S=[],h=[],E=r=>{for(var e=J,a=r.length,f=0;f<a;++f){var n=r[f];n!==N&&e<(n=n.score)&&(e=n)}return e===J?N:e},F=(r,e)=>{var a=r[e];if(void 0!==a)return a;for(var f=e,n=(f=Array.isArray(e)?f:e.split(".")).length,t=-1;r&&++t<n;)r=r[f[t]];return r},G=r=>"object"==typeof r,H=1/0,J=-H,K=[],N=null,O=(i=[],o=K.total=0,a=r=>{for(var e=i[n=0],a=1;a<o;){var f=a+1,n=a;f<o&&i[f].score<i[a].score&&(n=f),i[n-1>>1]=i[n],a=1+(n<<1)}for(var t=n-1>>1;0<n&&e.score<i[t].score;t=(n=t)-1>>1)i[n]=i[t];i[n]=e},(e={}).add=r=>{var e=o;i[o++]=r;for(var a=e-1>>1;0<e&&r.score<i[a].score;a=(e=a)-1>>1)i[e]=i[a];i[e]=r},e.L=r=>{var e;if(0!==o)return e=i[0],i[0]=i[--o],a(),e},e.S=r=>{if(0!==o)return i[0]},e.h=r=>{i[0]=r,a()},e);return{single:(r,e)=>{var a;return!r||!e||(r=z(r),G(e)||(e=q(e)),((a=r.g)&e.l)!==a)?N:D(r,e)},go:(r,e,a)=>{if(!r)if(a&&a.all){var f=e;var n=a;var t=[],i=(t.total=f.length,n&&n.limit||H);if(n&&n.key)for(var o=0;o<f.length;o++){var v=f[o];var s=F(v,n.key);if(!s)continue;if(!G(s))s=q(s);s.score=J;s._.C=0;var u=s;u={target:u.target,t:"",o:N,u:N,l:0,score:s.score,_:N,obj:v};t.push(u);if(t.length>=i)return t}else if(n&&n.keys)for(o=0;o<f.length;o++){v=f[o];var l=new Array(n.keys.length);for(var g=n.keys.length-1;g>=0;--g){s=F(v,n.keys[g]);if(!s){l[g]=N;continue}if(!G(s))s=q(s);s.score=J;s._.C=0;l[g]=s}l.obj=v;l.score=J;t.push(l);if(t.length>=i)return t}else for(o=0;o<f.length;o++){s=f[o];if(!s)continue;if(!G(s))s=q(s);s.score=J;s._.C=0;t.push(s);if(t.length>=i)return t}return t;return}else return K;var d=z(r),c=d.g,w=(d.p,a&&a.threshold||J),b=a&&a.limit||H,_=0,p=0,x=e.length;if(a&&a.key)for(var y=a.key,k=0;k<x;++k){var C=e[k];!(B=F(C,y))||(c&(B=G(B)?B:q(B)).l)!==c||(I=D(d,B))===N||I.score<w||(I={target:I.target,t:"",o:N,u:N,l:0,score:I.score,_:I._,obj:C},_<b?(O.add(I),++_):(++p,I.score>O.S().score&&O.h(I)))}else if(a&&a.keys)for(var L=a.scoreFn||E,S=a.keys,h=S.length,k=0;k<x;++k){for(var C=e[k],j=new Array(h),A=0;A<h;++A){y=S[A];(B=F(C,y))?(c&(B=G(B)?B:q(B)).l)!==c?j[A]=N:j[A]=D(d,B):j[A]=N}j.obj=C;var m=L(j);m===N||m<w||(j.score=m,_<b?(O.add(j),++_):(++p,m>O.S().score&&O.h(j)))}else for(var B,I,k=0;k<x;++k)!(B=e[k])||(c&(B=G(B)?B:q(B)).l)!==c||(I=D(d,B))===N||I.score<w||(_<b?(O.add(I),++_):(++p,I.score>O.S().score&&O.h(I)));if(0===_)return K;for(var M=new Array(_),k=_-1;0<=k;--k)M[k]=O.L();return M.total=_+p,M},highlight:(r,e,a)=>{if("function"==typeof e){var f=e;if((l=r)===N)return N;for(var n=l.target,t=n.length,i=(i=l._).slice(0,i.C).sort((r,e)=>r-e),o="",v=0,s=0,u=!1,l=[],g=0;g<t;++g){var d=n[g];if(i[s]===g){if(++s,u||(u=!0,l.push(o),o=""),s===i.length){o+=d,l.push(f(o,v++)),o="",l.push(n.substr(g+1));break}}else u&&(u=!1,l.push(f(o,v++)),o="");o+=d}return l}if(r===N)return N;void 0===e&&(e="<b>"),void 0===a&&(a="</b>");for(var c="",w=0,b=!1,_=r.target,p=_.length,x=(x=r._).slice(0,x.C).sort((r,e)=>r-e),y=0;y<p;++y){var k=_[y];if(x[w]===y){if(b||(b=!0,c+=e),++w===x.length){c+=k+a+_.substr(y+1);break}}else b&&(b=!1,c+=a);c+=k}return c},prepare:f,indexes:r=>r._.slice(0,r._.C).sort((r,e)=>r-e),cleanup:()=>{t.clear(),s.clear(),S=[],h=[]}}});